(1)tls-ca-cert-dir --> this parameter for redis and sentinel configuration needs to be set-up, it requires mounting a ca-cert directory inside containers through a secret

(2)On redis containers, after implementing redis_liveness.sh script for liveness probe, I have these processes which never ends:
PID   USER     TIME  COMMAND
    1 1000      0:04 redis-server /data/conf/redis.conf
   18 1000      0:00 [timeout]
   26 1000      0:00 [timeout]
   34 1000      0:00 [timeout]
   43 1000      0:00 [timeout]
   51 1000      0:00 [timeout]
   59 1000      0:00 [timeout]
   67 1000      0:00 [timeout]
   75 1000      0:00 [timeout]
   84 1000      0:00 [timeout]
   93 1000      0:00 [timeout]
  101 1000      0:00 [timeout]
  109 1000      0:00 [timeout]
  117 1000      0:00 [timeout]
  125 1000      0:00 [timeout]
  133 1000      0:00 [timeout]
  141 1000      0:00 [timeout]
  149 1000      0:00 [timeout]
  157 1000      0:00 [timeout]
  166 1000      0:00 [timeout]
  175 1000      0:00 [timeout]
  184 1000      0:00 [timeout]
  192 1000      0:00 [timeout]
  200 1000      0:00 [timeout]
  208 1000      0:00 [timeout]
  216 1000      0:00 [timeout]
  224 1000      0:00 [timeout]
  233 1000      0:00 [timeout]
  242 1000      0:00 [timeout]
  250 1000      0:00 [timeout]
  258 1000      0:00 [timeout]
  266 1000      0:00 [timeout]
  276 1000      0:00 [timeout]
  284 1000      0:00 [timeout]
  292 1000      0:00 [timeout]
  300 1000      0:00 [timeout]
  308 1000      0:00 [timeout]
  316 1000      0:00 [timeout]
  324 1000      0:00 [timeout]
  332 1000      0:00 [timeout]
  340 1000      0:00 [timeout]
  348 1000      0:00 [timeout]
  356 1000      0:00 [timeout]
  365 1000      0:00 [timeout]
  373 1000      0:00 [timeout]
  381 1000      0:00 [timeout]
  389 1000      0:00 [timeout]
  398 1000      0:00 [timeout]
  406 1000      0:00 [timeout]
  414 1000      0:00 [timeout]
  422 1000      0:00 [timeout]
  430 1000      0:00 [timeout]
  439 1000      0:00 [timeout]
  448 1000      0:00 [timeout]
  456 1000      0:00 [timeout]
  464 1000      0:00 [timeout]
  472 1000      0:00 [timeout]
  481 1000      0:00 [timeout]
  489 1000      0:00 [timeout]
  497 1000      0:00 [timeout]
  505 1000      0:00 [timeout]
  513 1000      0:00 [timeout]
  521 1000      0:00 [timeout]
  529 1000      0:00 [timeout]
  537 1000      0:00 [timeout]
  546 1000      0:00 [timeout]
  554 1000      0:00 [timeout]
  563 1000      0:00 [timeout]
  571 1000      0:00 [timeout]
  579 1000      0:00 [timeout]
  587 1000      0:00 [timeout]
  596 1000      0:00 [timeout]
  604 1000      0:00 [timeout]
  612 1000      0:00 [timeout]
  620 1000      0:00 [timeout]
  628 1000      0:00 [timeout]
  636 1000      0:00 [timeout]
  644 1000      0:00 [timeout]
  652 1000      0:00 [timeout]
  660 1000      0:00 [timeout]
  669 1000      0:00 [timeout]
  677 1000      0:00 [timeout]
  685 1000      0:00 [timeout]
  693 1000      0:00 [timeout]
  701 1000      0:00 [timeout]
  709 1000      0:00 [timeout]
  717 1000      0:00 [timeout]
  725 1000      0:00 [timeout]
  734 1000      0:00 [timeout]
  742 1000      0:00 [timeout]
  750 1000      0:00 [timeout]
  759 1000      0:00 [timeout]
  767 1000      0:00 [timeout]
  775 1000      0:00 [timeout]
  783 1000      0:00 [timeout]
  792 1000      0:00 [timeout]
  800 1000      0:00 [timeout]
  808 1000      0:00 [timeout]
  816 1000      0:00 [timeout]
  824 1000      0:00 [timeout]
  832 1000      0:00 [timeout]
  840 1000      0:00 [timeout]
  849 1000      0:00 [timeout]
  857 1000      0:00 [timeout]
  865 1000      0:00 [timeout]
  873 1000      0:00 [timeout]
  881 1000      0:00 [timeout]
  889 1000      0:00 [timeout]
  897 1000      0:00 [timeout]
  906 1000      0:00 [timeout]
  914 1000      0:00 [timeout]
  923 1000      0:00 [timeout]
  932 1000      0:00 [timeout]
  940 1000      0:00 [timeout]
  948 1000      0:00 [timeout]
  956 1000      0:00 [timeout]
  964 1000      0:00 [timeout]
  973 1000      0:00 [timeout]
  982 1000      0:00 [timeout]
  992 1000      0:00 [timeout]
 1000 1000      0:00 [timeout]
 1008 1000      0:00 [timeout]
 1016 1000      0:00 [timeout]
 1024 1000      0:00 [timeout]
 1025 1000      0:00 /bin/sh
 1037 1000      0:00 [timeout]
 1052 1000      0:00 [timeout]
 1056 1000      0:00 ps aux

NOTE: It's a similar script for sentinel_liveness.sh but on sentinel container I don't see these processes running endlessly.
 
(3) Every time a script "sentinel_liveness.sh" runs for liveness probe check, it leaves this warning in sentinel logs: 
1:X 26 May 2020 22:04:51.555 # wait3() returned a pid (494) we can't find in our scripts execution queue!
1:X 26 May 2020 22:05:51.488 # wait3() returned a pid (502) we can't find in our scripts execution queue!
1:X 26 May 2020 22:06:51.426 # wait3() returned a pid (510) we can't find in our scripts execution queue!
1:X 26 May 2020 22:07:51.431 # wait3() returned a pid (518) we can't find in our scripts execution queue!

The code here https://fossies.org/linux/redis/src/sentinel.c shows why this warning gets printed, look at method "void sentinelCollectTerminatedScripts(void)"

(4) After I implemented redis_liveness.sh I also get following warning on redis logs
These logs don't appear everytime the script is called though (unlike sentinel). It only seems to appear at startup

1:M 26 May 2020 22:36:28.746 # Warning, detected child with unmatched pid: 26
1:M 26 May 2020 22:36:28.846 # Warning, detected child with unmatched pid: 34
1:M 26 May 2020 22:36:28.946 # Warning, detected child with unmatched pid: 42
1:M 26 May 2020 22:36:29.046 # Warning, detected child with unmatched pid: 50
1:M 26 May 2020 22:36:29.147 # Warning, detected child with unmatched pid: 58
1:M 26 May 2020 22:36:29.247 # Warning, detected child with unmatched pid: 67
1:M 26 May 2020 22:36:29.347 # Warning, detected child with unmatched pid: 75
1:M 26 May 2020 22:36:29.447 # Warning, detected child with unmatched pid: 85
1:M 26 May 2020 22:36:29.547 # Warning, detected child with unmatched pid: 93
1:M 26 May 2020 22:36:29.648 # Warning, detected child with unmatched pid: 101
1:M 26 May 2020 22:36:29.748 # Warning, detected child with unmatched pid: 109
1:M 26 May 2020 22:36:29.848 # Warning, detected child with unmatched pid: 117
1:M 26 May 2020 22:36:29.948 # Warning, detected child with unmatched pid: 125
1:M 26 May 2020 22:36:30.049 # Warning, detected child with unmatched pid: 133
1:M 26 May 2020 22:36:30.149 # Warning, detected child with unmatched pid: 141
1:M 26 May 2020 22:36:30.250 # Warning, detected child with unmatched pid: 150

The code here http://download.redis.io/redis-stable/src/server.c shows why this warning gets printed, look at method "void checkChildrenDone(void)"

(5) redis-exporter - I couldn't figure out how to make this work with ssl
Redis exporter has REDIS_EXPORTER_TLS_CLIENT_KEY_FILE and REDIS_EXPORTER_TLS_CLIENT_CERT_FILE but is missing a parameter to pass the CA Cert.
I have opened an issue (question) regarding this on public repo here: https://github.com/oliver006/redis_exporter/issues/387

(6) redis-haproxy - this container gets installed only if 'haproxy.enabled' is set to true. We don't use this right now and therefore haven't looked at how to configure haproxy to work with tls.

